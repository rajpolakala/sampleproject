pipeline {
  agent any

  stages {
    stage('Check .NET Version') {
      steps {
        script {
          def dotnetPath = sh(returnStdout: true, script: 'which dotnet').trim()
          def versionRegex = /(\d+\.\d+\.\d+)/
          def dotnetVersion = versionRegex.matcher(dotnetPath).find() ? versionRegex.matcher(dotnetPath).group(1) : 'Unknown'
          echo "Installed .NET SDK version: ${dotnetVersion}"
        }
      }
    }
  }
}
